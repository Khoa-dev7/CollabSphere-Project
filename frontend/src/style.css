:root{
  --primary:#4f46e5;
  --text:#1f2937;
  --muted:#6b7280;
  --bg:#f3f4f6;
  --card:#ffffff;
  --sidebar:#111827;
  --sidebarHover:#374151;
  --success:#10b981;
  --warning:#f59e0b;
  --danger:#ef4444;
  --border:#e5e7eb;
  --shadow:0 6px 18px rgba(17,24,39,.08);
  --radius:12px;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
body{background:var(--bg);color:var(--text);}

/* layout */
.layout{display:grid;grid-template-columns:260px 1fr;min-height:100vh;}
.sidebar{background:var(--sidebar);color:#fff;padding:20px;}
.main{padding:24px;overflow:auto;}

/* menu */
.menu{display:flex;flex-direction:column;gap:8px;margin-top:14px;}
.menu-item{display:flex;align-items:center;gap:10px;padding:12px 14px;border-radius:10px;color:#d1d5db;cursor:pointer;text-decoration:none;transition:.2s;}
.menu-item:hover{background:var(--sidebarHover);color:#fff;}
.menu-item.active{background:var(--primary);color:#fff;}
.menu-item.danger:hover{background:rgba(239,68,68,.18);color:var(--danger);}

/* cards */
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow);}
.row-between{display:flex;justify-content:space-between;align-items:center;gap:12px;}
.search{padding:10px 12px;border:1px solid var(--border);border-radius:10px;min-width:220px;}

/* buttons */
.btn{padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer;}
.btn.primary{background:var(--primary);border-color:var(--primary);color:#fff;}
.icon-btn{border:none;background:transparent;cursor:pointer;}

/* form */
.form.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px;}
.field{display:flex;flex-direction:column;gap:6px;}
.field label{font-size:12px;color:var(--muted);}
.field input{padding:10px 12px;border:1px solid var(--border);border-radius:10px;}
.field.full{grid-column:1/-1;}
.sep{border:none;border-top:1px solid var(--border);margin:14px 0;}

/* table */
.table{width:100%;border-collapse:collapse;margin-top:12px;}
.table th,.table td{border-bottom:1px solid #eef2f7;padding:10px 8px;text-align:left;}
.cell{width:100%;padding:8px 10px;border:1px solid var(--border);border-radius:10px;}
.pill{padding:4px 8px;border-radius:999px;background:#f3f4f6;font-size:12px;}
.pill.ok{background:#dcfce7;}

/* timeline */
.timeline{margin-top:12px;display:flex;flex-direction:column;gap:12px;}
.timeline-item{display:flex;gap:12px;align-items:flex-start;}
.timeline-dot{width:10px;height:10px;border-radius:50%;background:var(--primary);margin-top:6px;}
.timeline-date{font-size:12px;color:var(--muted);}
.timeline-title{font-weight:700;margin-top:2px;}
.timeline-note{opacity:.9;margin-top:2px;}

/* gantt */
.gantt{margin-top:12px;display:flex;flex-direction:column;gap:10px;}
.gantt-row{display:grid;grid-template-columns:120px 1fr 60px;gap:10px;align-items:center;}
.gantt-track{position:relative;height:14px;background:#f3f4f6;border-radius:999px;overflow:hidden;}
.gantt-bar{position:absolute;top:0;bottom:0;border-radius:999px;background:#c7d2fe;overflow:hidden;}
.gantt-progress{display:block;height:100%;background:var(--primary);}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:50;}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.35);}
.modal-card{position:relative;width:min(420px,92vw);background:#fff;border:1px solid var(--border);border-radius:14px;padding:16px;box-shadow:0 12px 30px rgba(0,0,0,.2);display:flex;flex-direction:column;gap:10px;}
.modal-card input{padding:10px 12px;border:1px solid var(--border);border-radius:10px;}

/* responsive */
@media (max-width:980px){
  .layout{grid-template-columns:220px 1fr;}
}
@media (max-width:768px){
  .layout{grid-template-columns:1fr;}
  .sidebar{display:none;}
  .main{padding:12px;}
  .row-between{flex-direction:column;align-items:stretch;}
  .search{min-width:0;width:100%;}
  .form.grid{grid-template-columns:1fr;}
}
.grid-2col{
  display:grid;
  grid-template-columns: 380px 1fr;
  gap: 14px;
}

.course-list{
  margin-top: 12px;
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.course-item{
  text-align:left;
  border:1px solid var(--border, #e5e7eb);
  background:#fff;
  border-radius: 12px;
  padding: 12px;
  cursor:pointer;
  transition:.15s;
}

.course-item:hover{
  transform: translateY(-1px);
  box-shadow: 0 6px 18px rgba(17,24,39,.08);
}

.course-item.active{
  border-color: var(--primary, #4f46e5);
  box-shadow: 0 8px 22px rgba(79,70,229,.18);
}

.course-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.course-name{ margin-top: 6px; font-weight:700; }
.course-sub{ margin-top: 4px; opacity:.75; font-size: 13px; }

.syllabus-tabs{
  margin-top: 14px;
  display:flex;
  gap: 8px;
  flex-wrap:wrap;
}

.syllabus-box{ margin-top: 12px; }

.syllabus-list{
  margin-top: 12px;
  display:flex;
  flex-direction:column;
  gap: 10px;
  list-style:none;
  padding:0;
}

@media (max-width: 980px){
  .grid-2col{ grid-template-columns: 1fr; }
}
.stats{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 14px;
  margin-bottom: 14px;
}

.stat-card{
  background:#fff;
  border:1px solid var(--border, #e5e7eb);
  border-radius: 14px;
  padding: 14px;
  box-shadow: 0 6px 18px rgba(17,24,39,.06);
}
.stat-label{ opacity:.75; font-size: 13px; }
.stat-value{ font-size: 26px; font-weight: 800; margin-top: 6px; }

.dash-grid{
  display:grid;
  grid-template-columns: 1.3fr 1fr;
  gap: 14px;
}

.mini-timeline{ display:flex; flex-direction:column; gap: 10px; }
.mini-item{
  display:grid;
  grid-template-columns: 14px 1fr auto;
  gap: 10px;
  align-items:center;
  padding: 10px;
  border-radius: 12px;
  border: 1px solid #eef2f7;
  background:#fff;
}
.dot{ width: 12px; height: 12px; border-radius:50%; background:#cbd5e1; }
.dot.done{ background: #10b981; }
.dot.due{ background: #f59e0b; }

.mini-title{ font-weight: 650; }
.mini-time{ font-size: 12px; opacity:.7; margin-top: 2px; }

.tag{
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  background:#f3f4f6;
}
.tag.done{ background:#dcfce7; }
.tag.due{ background:#ffedd5; }

.notice-list{ display:flex; flex-direction:column; gap: 10px; }
.notice-item{
  border: 1px solid #eef2f7;
  border-radius: 12px;
  padding: 12px;
  background:#fff;
}
.notice-title{ font-weight: 650; }
.notice-time{ font-size: 12px; opacity:.7; margin-top: 4px; }

@media (max-width: 1024px){
  .stats{ grid-template-columns: 1fr 1fr; }
  .dash-grid{ grid-template-columns: 1fr; }
}
.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom: 14px;
}

/* bell */
.noti-wrap{ position: relative; }
.noti-btn{
  border: 1px solid #e5e7eb;
  background: #fff;
  padding: 8px 10px;
  border-radius: 10px;
  cursor: pointer;
  position: relative;
}
.noti-badge{
  position:absolute;
  top:-6px;
  right:-6px;
  background:#ef4444;
  color:#fff;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 999px;
}

/* dropdown */
.noti-dropdown{
  position:absolute;
  right:0;
  top: 44px;
  width: 340px;
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 12px 30px rgba(0,0,0,.12);
  overflow:hidden;
  z-index: 50;
}
.noti-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding: 12px;
  border-bottom: 1px solid #f3f4f6;
}
.noti-actions{ display:flex; gap: 10px; align-items:center; }
.link-btn{
  border:none;
  background:transparent;
  cursor:pointer;
  color:#2563eb;
  font-weight: 600;
}
.noti-empty{ padding: 12px; opacity: .7; }
.noti-list{ list-style:none; padding:0; margin:0; max-height: 320px; overflow:auto; }
.noti-item{
  padding: 12px;
  border-bottom: 1px solid #f3f4f6;
  cursor:pointer;
}
.noti-item:hover{ background:#f9fafb; }
.noti-item.unread{ background:#eef2ff; }
.noti-title{ font-weight: 700; }
.noti-desc{ opacity: .85; margin-top: 4px; }
.noti-time{ font-size: 12px; opacity: .7; margin-top: 6px; }
/* ===== PHAN-100: GLOBAL MOBILE FIX ===== */
html, body { width: 100%; overflow-x: hidden; }
* { min-width: 0; } /* chặn flex/grid con bị tràn */

.main { min-width: 0; } /* quan trọng: tránh content đẩy layout rộng hơn */

@media (max-width: 768px) {
  .main { padding: 12px; }
  .card { padding: 14px; }
}
/* ===== PHAN-100: KANBAN RESPONSIVE ===== */
.kanban {
  display: grid;
  grid-template-columns: repeat(4, minmax(260px, 1fr));
  gap: 12px;
  align-items: start;
}

.kanban-col {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 10px;
  min-height: 220px;
}

.kanban-col-title {
  font-weight: 700;
  margin-bottom: 10px;
}

.kanban-card {
  border: 1px solid #eef2f7;
  border-radius: 12px;
  padding: 10px;
  background: #fff;
  margin-bottom: 10px;
}

@media (max-width: 768px) {
  /* trick: giữ kanban 1 hàng, cho scroll ngang */
  .kanban-wrap {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 6px;
  }

  .kanban {
    grid-auto-flow: column;
    grid-auto-columns: minmax(260px, 82vw);
    grid-template-columns: unset;
  }
}
